<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <style>
        body {
          background-color: rgba(0,0,0, 0.3);
          padding: 50PX 20px;
          color: #fff;
          font-size: 16px;
        }
      </style>
  </head>
  <body>
    <h2 class="text-center mb-4">
      Fetch data from api & bind over html table.
    </h2>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">Sr.No</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">User Name</th>
            <th scope="col">Phone</th>
            <th scope="col">Website</th>
          </tr>
        </thead>
        <tbody id="tbodyFetchApi"></tbody>
      </table>
    </div>
    <button onclick="fetchLatestApi()">
      Fetch User API data & show result on table
    </button>
    <!-- Bootstrap js files -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <!-- custom js file -->
    <script>
      function fetchLatestApi() {
        const FETCH_USERS_URL = "https://jsonplaceholder.typicode.com/users";
        console.log(FETCH_USERS_URL);
        let res = fetch(FETCH_USERS_URL)
          .then((res) => res.json())
          .then((data) => {
            if (data.length > 0) {
              console.log(data);
              data.map((result) => {
                tr = document.createElement("tr");
                document.getElementById("tbodyFetchApi").appendChild(tr);

                let td1 = document.createElement("td");
                let td2 = document.createElement("td");
                let td3 = document.createElement("td");
                let td4 = document.createElement("td");
                let td5 = document.createElement("td");
                let td6 = document.createElement("td");

                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);
                tr.appendChild(td6);

                td1.innerHTML = `${result.id}`;
                td2.innerHTML = `${result.name}`;
                td3.innerHTML = `${result.email}`;
                td4.innerHTML = `${result.username}`;
                td5.innerHTML = `${result.phone}`;
                td6.innerHTML = `${result.website}`;
                console.log(result.id);
              });
            } else {
              throw new Error(
                "Sorry not able to fetch API, please check network Connectivity."
              );
            }
          })
          .catch((err) => console.log(err));
      }
    </script>
  </body>
</html>
